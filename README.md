# NewsParser

Любите читать **Habr**? Но вы потом не можете сосредоточиться над своим
проектом или каким-то другим делом, так как начинаете сёрфить дальше?
Тогда этот проект для вас!

Проект разработан для проверки новых статей на сайте *[Habr](https://habr.com/ru/)*
при запуске системы.

---

## Выполнение запросов на сайт

При вхождении в систему файл **`scripts/newsParser.py`** выполняет следующее:
<br>
- Посылает запросы на выше перечисленный сайт, тем самым
проверяя, нет ли новых статей на ленте и записывает в **`txt-файл`**,
который расположенный на рабочем столе.<br>
- В случае если не будет обнаружено новых статей, то скрипт
завершает свою работу и в **`txt-файл`** записываются прежние статьи.
(которые сохраняются в файле **`dataArticle/dataArticleHabr.txt`**)<br>
- При исполнение данного скрипта при запуске появится
скрытое системное окно (так как исполнятеся bat-файл,
естественно в Windows).<br>

## Автоматический запуск

Чтобы **python-скрипт** автоматически запускался при запуске системы
необходимо запустить в терминале следующую команду (*вы должны быть в каталоге,
в котором находится проект или прописать полный путь к проекту*):<br>
- `python NewsParser addBatFile`

тем самым добавит **bat-файл** в автозагрузку (сгенерированный файл вы можете посмотреть
в **`batchFiles/runNewsParser.bat`**).

Для удаления **bat-файла** нужно запустить:<br>
- `python NewsParser delBatFile`

## Настройки парсера

Поддерживаемы настройки:<br>
- 1 - Проверка статей на главной ленте (no/yes)
- 2 - Проверка статей на категории "Новости" (no/yes)
- 3 - Проверка статей на категории "Хабы" (no/yes)
- 4 - Список хабов (array)
(набор популярных хабов лежат в файле **`docx/dataHabrHubs`**, записывать через
запятые без пробелов, на английском языке)
- 5 - Проверка статей у авторов (no/yes)
- 6- Список авторов (array)
(набор популярных авторов лежат в файле **`docx/dataHabrUsers`**, записывать через
запятые без пробелов, на английском языке)

Для записи настроек необходимо выполнить следующую команду (любую из представленных):
- **`python NewsParser write [--settings или -s]`** и писать по порядку параметры,
которые были описанны выше, например:
    - **`python NewsParser write -s no no yes infosecurity,programming,DIY,python yes dansi,Seleditor`**

- **`python NewsParser write [--settings или -s]`** и указывать номер параметра например:
    - **`python NewsParser write -s 1=yes 3=yes 4=infosecurity,programming,DIY,python`**

## Другие команды

- **`python NewsParser writeDefault`** - вернёт прежние настройки парсера
- **`python NewsParser data`** - вернёт текущие настройки парсера
- **`python NewsParser updateFiles`** - обновляет популярных авторов и хабы


#### Библиотеки

Инструменты, которые использовались в создание этого проекта:
- **[BeautifulSoup](https://www.crummy.com/software/BeautifulSoup/bs4/doc/)**
- **[click](https://click.palletsprojects.com/en/7.x/)**
- **[Requests](https://requests.readthedocs.io/en/master)**
- **[lxml](https://lxml.de/)**
